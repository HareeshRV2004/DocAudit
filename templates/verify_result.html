{% extends "base.html" %}
{% block body %}
<h3>Verification Result</h3>

{% if verified %}
  <div class="alert alert-success">
    <h4 class="alert-heading">✅ Document Verified</h4>
    <p class="mb-0">The document has been successfully verified and is authentic.</p>
  </div>
{% else %}
  <div class="alert alert-danger">
    <h4 class="alert-heading">❌ Document Tampered</h4>
    <p class="mb-0">The document could not be verified. It may have been tampered with or the data is invalid.</p>
  </div>
{% endif %}

{% if doc %}
<div class="mt-4">
  <h5>Document Details:</h5>
  <div class="card">
    <div class="card-body">
      <table class="table table-sm">
        <tr>
          <td><strong>Filename:</strong></td>
          <td>{{ doc.filename }}</td>
        </tr>
        <tr>
          <td><strong>Owner:</strong></td>
          <td>{{ doc.owner.email }}</td>
        </tr>
        <tr>
          <td><strong>Commitment:</strong></td>
          <td><code style="word-break: break-all;">{{ doc.commitment }}</code></td>
        </tr>
        <tr>
          <td><strong>Status:</strong></td>
          <td>{{ doc.status }}</td>
        </tr>
        <tr>
          <td><strong>Uploaded:</strong></td>
          <td>{{ doc.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</td>
        </tr>
      </table>
    </div>
  </div>
</div>
{% endif %}

{% if qr_info %}
<div class="mt-4">
  <h5>QR Code Information:</h5>
  <div class="card">
    <div class="card-body">
      <pre>{{ qr_info | tojson(indent=2) }}</pre>
    </div>
  </div>
</div>
{% endif %}

<div class="mt-4">
  <a href="{{ url_for('verifier_dashboard') }}" class="btn btn-primary">Back to Verifier Dashboard</a>
  <a href="{{ url_for('verify_upload') }}" class="btn btn-outline-primary">Verify Another Commitment</a>
  <a href="{{ url_for('verify_qr') }}" class="btn btn-outline-success">Verify Another QR Code</a>
</div>
{% endblock %}
