{% extends "base.html" %}
{% block body %}
<h3>Upload Aadhaar</h3>
<p class="text-muted">Enter Aadhaar details, select attributes to prove, and we will commit to blockchain and generate a QR.</p>

<form method="post">
  <div class="row">
    <div class="col-md-6">
      <div class="mb-3">
        <label class="form-label">Aadhaar Number</label>
        <input name="aadhaar_number" class="form-control" placeholder="12-digit Aadhaar" minlength="12" maxlength="12" required>
        <div class="form-text">We store only the number and commitment metadata for your history.</div>
      </div>
      <div class="mb-3 form-check">
        <input class="form-check-input" type="checkbox" name="above18" id="above18">
        <label class="form-check-label" for="above18">Age â‰¥ 18</label>
      </div>
      <div class="mb-3 form-check">
        <input class="form-check-input" type="checkbox" name="indian" id="indian">
        <label class="form-check-label" for="indian">Citizenship = Indian</label>
      </div>
      <div class="mb-3">
        <label class="form-label">Gender</label>
        <select name="gender" class="form-select">
          <option value="">(Select)</option>
          <option value="M">Male</option>
          <option value="F">Female</option>
          <option value="O">Other</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Name (for matching without disclosure)</label>
        <input name="name" class="form-control" placeholder="Enter name to commit (optional)">
      </div>
      <button class="btn btn-primary">Commit to Blockchain</button>
      <a href="{{ url_for('aadhaar_history') }}" class="btn btn-outline-secondary">View Aadhaar History</a>
    </div>
  </div>
</form>

{% if qr_img_path %}
  <div class="mt-4">
    <h5>Commitment QR</h5>
    <img src="{{ url_for('static', filename='qr/' + qr_img_path) }}" alt="Commitment QR" class="img-fluid" style="max-width:240px">
    <div class="text-muted mt-2">Share this QR with verifiers. It encodes the Commitment ID.</div>
  </div>
{% endif %}
{% endblock %}


